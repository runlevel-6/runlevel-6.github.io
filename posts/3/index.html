
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>runLevel-6</title>
  <meta name="author" content="Ken Zahorec">

  
  <meta name="description" content="Here we will describe how to set up Fedora 18 with KVM as a virtualization server and then use virt-manager to locally manage the VMs and other &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http:/runlevel-6.github.io/posts/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="runLevel-6" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">runLevel-6</a></h1>
  
    <h2>&#8230;contemplate, start, and move forward</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:http:/runlevel-6.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2013/04/05/fedora-virtualization-server/">Fedora Virtualization Server: A cutting-edge approach to lab virtualization</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-04-05T02:33:28-04:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:33 am</span></time>
        
           | <a href="/blog/2013/04/05/fedora-virtualization-server/#disqus_thread"
             data-disqus-identifier="http:/runlevel-6.github.io/blog/2013/04/05/fedora-virtualization-server/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here we will describe how to set up Fedora 18 with KVM as a virtualization server and then use <strong>virt-manager</strong> to locally manage the VMs and other virtual resources.</p>

<p>Also we will describe how to set up a management host which would be used to remotely manage the Fedora virtualization server and hypervisor through ssh and virt-manager. The management host could be desktop system with Fedora installed on it.</p>

<h2>What you will need</h2>

<p>For the Fedora virtualization server, something like a  Cicso UCS would be great if you can spare $15K or so.</p>

<p><img src="/images-fedora-kvm/cisco-ucs-front-view_400x39.png" alt="cicso ucs server" /></p>

<p>Moving more towards the mid-range budget minded, an older Dell 2950 server might be just the ticket&hellip;</p>

<p><img src="/images-fedora-kvm/dell-2950-single_400x80.png" alt="dell server" /></p>

<p>On the lower-end budget, a decent 64 bit multicore <strong>desktop system</strong> would work just fine as well.</p>

<ol>
<li><p>A reliable server or desktop system with enough resources to accomodate the VMs you plan to create and run in the system.</p></li>
<li><p>An optional additional system to use as a client for management of the Fedora virtualization server, that is if you want to manage the Fedora virt server from a remote system.</p></li>
<li><p>A Fedora 18 64-bit Gnome desktop installation CD (or USB). You can get the raw image for the installation from the Fedora website. It is totally free to use and scale as you wish.</p></li>
<li><p>Some patience and willingness to learn some new skills.</p></li>
</ol>


<h2>Step 1 - Install Fedora into the server (10 minutes)</h2>

<p>Perform a Fedora 18 64-bit Gnome Desktop intallation to the server hardware of choice. In my most recent case I installed Fedora 18 into a Dell 2950 with 8GB RAM and 170 GB of usable RAID storage&ndash;the perfect server for what I was needing to do at the time.</p>

<p>Boot the installation media in the server and proceed to install it using the installation prompt provided. It will eventually stop at the partioning tool. Make sure to affirm that you want to review the partioning during the installation. This will give you the chance to make some adjustments in the sizes and number of the partitions allotted to the Fedora installation process.</p>

<p>During installation, change the partitioning storage volumes. The installer default storage arrangement suggests most storage will be committed to &ldquo;/home&rdquo;. The problem with this is that KVM/QEMU images, by default, are created at &ldquo;/var/lib/libvirt/images/.&rdquo;. If you plan to have lots of virtual machine images and use the standard suggested partitioning, then it will be likely you will run out of space on the filesystem root partition &ldquo;/&rdquo; as you add more and more virtual machines.</p>

<p>There are a number options we can do to resolve the storage issue, while in the partitioning tool:</p>

<ol>
<li>We can rearrange the partitioning to provide a dedicated additional partition and assign mount point for &ldquo;/var/lib/libvirt/&rdquo; to this partition. -or-</li>
<li>We can simply rearrange the standard partitioning such that most of the storage in at filesystem root &ldquo;/&rdquo; instead of &ldquo;/home&rdquo;.</li>
</ol>


<p>I normally choose the latter of these two choices and commit most of the available storage to root filesystem (/). I reduce the /home partition to 30GB or so. There are other options as well, but we won&rsquo;t get into them here.</p>

<p>After adjusting the partitioning as necessary, follow the Fedora CD live image installation process through to completion</p>

<h2>Step 2 - Configure the Fedora Desktop (3 minutes)</h2>

<p>In this section we log into the Fedora system for the first time and perform system configuration tasks.</p>

<p>Log into the Desktop using a display, keyboard, and mouse, attached to the server.</p>

<p>Configure the network to allow for remote management of the system. This requires that we setup a network interface that is not managed by Network Manager. Read on&hellip;</p>

<p>If your host will be static ip, then set that up. Use the network setting on the gnome network settings desktop interface. You can find it in system settings or directly from the network icon on the desktop. Otherwise just use DHCP (automatic settings) as is provided by default.</p>

<p>Now set the host interface to not be managed by network manager. We do this because we want any required interfaces to come up at boot time without having anyone logged into the host. Network manager activates network interfaces for users when they are logged in&ndash;not what we want for the server environment. We want network up and running right from the boot&ndash;even without a user logged in.  We will need to edit the required network start script(s). For example: /etc/sysconfig/network-scripts/ifup-em1. Make sure the following entries are present in the script:</p>

<pre><code>NM_CONTROLLED=no
ONBOOT=yes
</code></pre>

<p>Now enable the &ldquo;non-network-manager&rdquo; traditional networking scripting using the chkconfig utility. This allows network interfaces that are marked with &ldquo;NM_CONTROLLED=no&rdquo; to be able to be managed by the traditional Linux network scripting support.</p>

<pre><code>chkconfig network on
chkconfig network start
</code></pre>

<p>We take the network control away from the Gnome network manager because we don&rsquo;t want to require a desktop user to first login before the Fedora system tries to enable the network connection.</p>

<p>To easily view the runtime daemon configuration, perform the following command:</p>

<pre><code>chkconfig
</code></pre>

<p>Install the ssh server&hellip;this will provide for remote management through virt-manager, ssh, and remote file management through scp. As root, perform the following:</p>

<pre><code>yum install openssh-server
</code></pre>

<p>That should do it. The Fedora system should have the required networking running from boot&ndash;and also when nobody is logged into desktop on the server system. It will also work when users are logged in.</p>

<h2>Step 3 - Completing the Fedora server installation general update of software and installation of KVM virtualization components (~ 5 min).</h2>

<p>These commands can be done locally at the Fedora virtualization server or through ssh access from a remote system.</p>

<p>Perform a general update of the Fedora server. As root, or sudo&hellip;</p>

<pre><code>yum update
</code></pre>

<p>Install the Virtualization group of rpm packages. As root&hellip;</p>

<pre><code>yum groupinstall Virtualization
</code></pre>

<p>Install the libvirt daemon for qemu which provides for creation of KVM guest images on the host. Again, as root, or sudo&hellip;</p>

<pre><code>yum install libvirt-daemon-qemu
</code></pre>

<p>Now we will restart the server to make sure all the required daemon services are running; libvirtd, etc. As root, or sudo&hellip;</p>

<pre><code>init 6
</code></pre>

<h2>Fedora virtualization system management from another host. (optional)</h2>

<p>The Fedora server can be managed either locally or from a remote host. If you are not managing the server from a remote host, then you can skip this entire step.</p>

<p>For command line access you can use a secure shell</p>

<pre><code>ssh user@host
</code></pre>

<p>For graphical use you can use X forwarding through ssh</p>

<pre><code>ssh -X user@host
</code></pre>

<p>For file management and transfer between hosts you can use secure copy (scp) to transfer files. It is very easy to use and provides secure file transfer.</p>

<p>For example to start the gnome control at the managing system first attach a terminal ssh session with X forwarding:</p>

<pre><code>ssh -X user@host
</code></pre>

<p>Then invoke the control center as follows:</p>

<pre><code>gnome-control-center &amp;
</code></pre>

<p>From there you can adjust various system settings at the remote host including the network, proxy, users, printers, etc.</p>

<h2>Setting up the remote management host to manage the Fedora virtualization server with <strong>virt-manager</strong>. (~5 min)</h2>

<p>If you are <strong>not</strong> using a remote management host, then you can skip this section.</p>

<p>This section assumes that we already have another Fedora or otherwise Linux host setup for management of the system we have outlined above. This host system requires the Virtualization group be already installed at the management host. We specifically need a local instance of virt-manager on the management host that we will use to add a connection to the the Fedora server KVM hypervisor through the libvirt daemon. All commands here are done from the local managing host.</p>

<p>Before we can add a remote hypervisor to virt-manager at the management host we need to make sure that the Fedora virt server has the public key of the management host added to the known hosts for root on Fedora virt server. We must first make sure there is a public/private key pair on the management host where we will run virt-manager. By default the two files are located at ~/.ssh/. and are &ldquo;id_rsa&rdquo;, &ldquo;id_rsa.pub&rdquo;. If they are not present we can generate them very easily using the ssh-keygen utility as follows (accepting defaults):</p>

<pre><code>ssh-keygen -t rsa
</code></pre>

<p>If you decide to password (passphrase) protect the private key, you may need to run ssh-agent in order for the authentication to work. I normally do not password protect the private key, so have not yet used ssh-agent. If you are interested see the manpage for ssh-agent for more information on how to use it.</p>

<p>To allow virt-manager to connect to a remote host it is first necessary to add the public key from the management system to the allowed keys on each remote machine running libvirt. To add the public key to the list of allowed keys for the user root@host:</p>

<pre><code>ssh-copy-id -i ~/.ssh/id_rsa.pub root@host
</code></pre>

<p>To start virt-manager and perform virtualization management. On the management host we can use the following command</p>

<pre><code>sudo virt-manager
</code></pre>

<p>Virt-manager can also be started graphically from the search facility in the Fedora Gnome 3 desktop, or added to the favorites menu bar. It will challenge you for your sudo user password before starting.</p>

<p>In the virt-manager interface you will need to add a new connection to the Fedora virt server hypervisor.</p>

<p>&ldquo;virt-manager -> File -> Add Connection&rdquo;.</p>

<p>With the connection to the Fedora 18 virtualization server, we can now create new VMs, clone VMs, add Spice/VNC access to VMs, Delete VMs, manage storage, perform virtual network management, etc.. We can also completely manage, and use, the Fedora virtualization server from the management system&ndash;as briefly outlined in step 3 above.</p>

<p>When creating a network bridge in virt-manager, you may need to disable the spanning tree protocol (STP). Some managed switches will disable the physical port if your host uses STP on them. This is apparently a switch configuration&ndash;I ran into it in a network lab recently.</p>

<h2>Running virt-manager directly on the Fedora virtualization server</h2>

<p>If you are not managing the Fedora virt server from another system, then you will have to log into the server desktop and run virt-manager to perform virtualization management of the local hypervisor (KVM). Of course you will need a keyboard, mouse, and display attached because you will be using the server as a desktop system&ndash;in some cases this may not be feasible. Log into the desktop, open up a gnome-teminal session and enter the following command:</p>

<pre><code>sudo virt-manager
</code></pre>

<p>When you first start virt-manager it looks rather simple, but don&rsquo;t let that fool you. Virt-manager can perform some heavy lifting; VM management, virtual networking, storage, remote hypervisor management. Upon first start, virt-manager may need to be connected to the local hypervisor. To connect to the local hypervisor, use &ldquo;File -> Add Connection&rdquo;.</p>

<p>Of course you could occasionally manage the Fedora system from afar and occasionally manage it directly at the server. Either way, it&rsquo;s your choice&ndash;very flexible.</p>

<h2>Remote diagnosis - Monitoring IP traffic with wireshark-gnome.</h2>

<p>This section explains how to add wireshark, which allows you to perform detailed network and device analysis, to the Fedora virtualization server. This is critical to have if you need to be able to monitor and analyze network data at the server. The commands shown can be run from the remote management host or directly at the Fedora virtualization server.</p>

<p>Log into the Fedora virt server system with ssh</p>

<pre><code>ssh user@host

su

yum install wireshark-gnome
</code></pre>

<p>Now make sure that the &ldquo;user&rdquo; we want to allow to run wireshark is in the &ldquo;wireshark&rdquo; group.</p>

<pre><code>usermod -a -G wireshark user
</code></pre>

<p>Use X forwarding to start wireshark at the remote host and view/control it at the managing system. &ldquo;user&rdquo; in this case the the same user we provided with the line above.</p>

<pre><code>ssh -X user@host

wireshark &amp;
</code></pre>

<h2>Remote management of the Fedora 18 virtualization server - running desktop applications</h2>

<p>There are lots of great tools to use to manage the Fedora virt server. Anything we run directly at the desktop on the Fedora server can also be run in view from the management host:</p>

<p>Log into remote host using ssh with X forwarding</p>

<pre><code>ssh -X user@host
</code></pre>

<p>The following commands are examples of some of the programs that can be run from afar at the management host.</p>

<pre><code>system-config-network

system-config-printer

gnome-control-center

wireshark-gnome
</code></pre>

<p>If you are using the gnome desktop proxy settings at Fedora server host and need to have the proxy environment variables set properly in a terminal session from the remote management system&ndash;say to run yum commands, or perform a wget; Just invoke a gnome terminal session from the active (ssh -X) session like so:</p>

<pre><code>gnome-terminal
</code></pre>

<h2>Which terminal session you run can make a big difference</h2>

<p>Don&rsquo;t forget; When you run a non-X11 ssh session to a remote Linux system you do not get the gnome environment enabled terminal session. You get a somewhat basic terminal session that is void of Gnome specific environment settings. If you want your terminal session to behave as if you were logged into Gnome&ndash;for proxy settings etc., then you need to use gnome-terminal.</p>

<p><strong>My experience with the Fedora 18 virtualization server has been great.</strong>. The Dell 2950 server is performing very well and the stability of the overall system is incredible! Fedora rocks!</p>

<p>Here is a screenshot of virt-manager, running at the management host, connected to the Fedora virt server remote hypervisor</p>

<p><img src="/images-fedora-kvm/virt-manager_400x269.png" alt="virt-manager remote" /></p>

<p>Here is the entire desktop at the management host. I have wireshark up and running as I monitor traffic from an Elastix PBX running in a VM within the Fedora virt server hypervisor. Click the image for a larger view.</p>

<p><a href="/images-fedora-kvm/virt-manager-wireshark_1024x640.png" target="_blank"> <img src="/images-fedora-kvm/virt-manager-wireshark_400x250.png" border="0" alt="Fedora virt server management" /></a></p>

<p>A few points about creating VMs under virt-manager</p>

<ul>
<li><p>If you use SPICE for the video connection channel to the VM you will get a very smooth and fast display experience when connecting to the VM (guest OS display). This is far better than the older bandwidth hog VNC. The SPICE protocol provides for highly compressed and accelerated video performance. It greatly reduces the required network bandwidth for remoting the VM to a SPICE client on remote host. In most cases a 1M bit connection is all you need for a perfectly responsive virtual desktop. It works so well that you don&rsquo;t even realize you are running on a remote machine.</p></li>
<li><p>Spice USB forwarding provides the ability to add USB channels to the VM for USB plug-in forwarding on spice client connections. You can connected from a remote host to the VM guest, and then forward a USB device connection at the remote host to the guest VM. To do this you need to add a &ldquo;USB Redirection&rdquo; virtual device to the VM. You need to add as many USB Rediretion devices as you plan to have number of USB devices forwarded to the VM at one time. Each USB device forwarded takes up an available forwarding slot. I have had 10 USB devices forwarded to the VM guest at one time with no problems.</p></li>
<li><p>To take full advantage of KVM virtual devices and Spice, be sure to to add the virtio drivers to the guest VM. linux-kvm.org has <a href="http://www.linux-kvm.org/page/WindowsGuestDrivers/Download_Drivers">virtio drivers</a> for Windows available for free. Many of the modern Linux distibutions come with virtio drivers included, or available in the repositories for the Linux distribution.</p></li>
<li><p>When connecting the VMs to a network, you can use a virtual network device called the <strong>MacVTap</strong>. This is available using point and click with virt-manager. This is similar to a bridge, but easer to setup and use than a bridge. MacVTap is not only easier to use and setup than a bridge, but provides other benefits and more flexibility.</p></li>
<li><p>I typically use a separate network interface for use by the VM guests. The original network interface is used for server management, local users, etc. When creating the VM I typically use a MacVTAP to the dedicated NIC.</p></li>
</ul>


<p>That&rsquo;s all for now. Have fun with your new virtualization server!</p>

<p><a href='#TOP'><img alt="back to top of page" style="border-width:0" src="/images/nav-to-top_80x23.png" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2013/04/04/auto-repair-fixing-the-bmw-325-faulty-rear-tail-light/">Auto Repair: Fixing the BMW 325 faulty rear tail light</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-04-04T23:49:08-04:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:49 pm</span></time>
        
           | <a href="/blog/2013/04/04/auto-repair-fixing-the-bmw-325-faulty-rear-tail-light/#disqus_thread"
             data-disqus-identifier="http:/runlevel-6.github.io/blog/2013/04/04/auto-repair-fixing-the-bmw-325-faulty-rear-tail-light/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am posting this information with hope that it might help others who are experiencing the same problem I am having with the E46 tail light assembly. If you find it of good use, please drop me an email to let me know. Please read the disclaimer at the bottom of this document.</p>

<p>Can you spot the problem in this rear tail light connector?</p>

<p><img src="/images-e46/show_bad_lead_400x300.jpg" alt="rear light assembly" /></p>

<h3>Forward</h3>

<p>My 18 year old son has been having problems with his 2001 BMW 325i. The body style is E46. The right tail light is not working properly. It is blinking too fast and does not seem to have enough illumination. It recently stopped working at all. I told him not to drive it until we had it repaired, so of course he has been quite anxious to get back to driving his car—he loves his BMW. He has been avoiding driving the “spare” family van, a rusty 94 Mercury Villager with a broken heater, broken AC, and 198,000 miles on it—can you blame him? Always up for a challenge and also for saving a buck or two, I decided to take a crack at fixing the BMW&hellip; :)</p>

<h3>Problem described:</h3>

<p>The right rear directional indicator, or turn signal, is very dim and flashes too quickly. Other lights within the same assembly are also very dim. The car keeps indicating a directional light warning on the dash panel. This problem went on for a couple of weeks and now, as of very recently, it has stopped working completely.</p>

<h3>Possible solutions:</h3>

<p>My first thought was that the problem might be with the light bulbs, so they were all checked and were found to be working perfectly. Next thought was that the problem could be a blown fuse. We checked the fuses, and they were ok as well. I started looking into replacement of the relay mechanism. The relay seems to be difficult to get to, so I went to the web for some information.</p>

<p>While searching around for information on the relay I was able to find out that there is a <a href="http://forum.e46fanatics.com/showthread.php?t=533309&amp;highlight=melted+tail+light">documented problem</a> in the way the light assembly has been designed for this car. Although I am grateful for the author&rsquo;s post on this, I believe this solution looks far more complicated than it needs to be. I solved it instead using one single wire connection back into the BMW 325i E46 wire harness.</p>

<p>The design problem appears to be in the material BMW chose for the ground return circuit in the tail light assembly, stamped steel sheathing. This material can not handle the ground return current. It basically gets too hot and eventually fries out at the thinnest point (least conductive) which happens to be within the connector contact area. I would not be suprised to find out that other BMW body styles have the same problem assuming that the folks at BMW might be using similar material selections on other vehicles.</p>

<h3>Problem solved:</h3>

<p>The solution I chose was to remove the ground return path from the connector and provide a much more conductive path using an external piece of 12 gauge stranded copper wire pulled from an old AC cord. Nothing beats copper wire for moving electrons. Ok, perhaps a super-conductor, but we aren&rsquo;t going there today :)</p>

<p>The repair job took me about 40 minutes or so to complete&ndash;it took me far longer to write this article. The lights on the vehicle are now working perfectly!</p>

<h3>Step by step what I did to solve the problem:</h3>

<p>Below is a view of the 2001 BMW 325i E46 rear light assembly, once it has been removed from the trunk area.</p>

<p><img src="/images-e46/e46_right_rear_light_assembly_400x300.jpg" alt="rear light assembly" /></p>

<p>Notice the burnt-out conductor below. The third conductor from the right of the connector. It has basically melted and corroded away from the intense heat. &ndash;very poor choice of material in this case—shame on BMW for that one.</p>

<p><img src="/images-e46/show_bad_lead_400x300.jpg" alt="rear light assembly" /></p>

<p>Below I have cut the bad conductor from the assembly using a pair of snub-nose wire clippers. You don&rsquo;t want to leave the old unattached conductor in the assembly, it could short out one of the other conductors if it came loose.</p>

<p><img src="/images-e46/cut_bad_lead_400x300.jpg" alt="rear light assembly" /></p>

<p>Below I have removed the bad conductor from the connector assembly. I just pull it out from the bottom using a pair of needle-nose pliers. Notice also that I have raised and clipped the strip at the thicker area to ready it for a new slide-on connector&hellip;</p>

<p><img src="/images-e46/removed_lead_400x300.jpg" alt="rear light assembly" /></p>

<p>You will need some tooling for performing electircal crimping. This is very inexepensive equipment and can be found at your local hardware, electrical, or builders supply store, such as Lowes or Home Depot. I just happen to have this stuff in my repair box for situations like this. Below is a picture of the tooling I used for this job. There is also DELL laptop with mouse in the picture, but you won&rsquo;t need either of those for this job. :)</p>

<p><img src="/images-e46/termination-kit_400x533.jpg" alt="rear light assembly" /></p>

<p>Below I have used the crimping tool and a blue slide-on connector to attached a new ground lead to the thicker, more conductive part of the metal strip. The unit is now ready to take back and install into the vehicle. If you do this you must make sure that the wire you pick is of greater current carrying capacity than what is found in the wiring harness in the car. In my case I used 12 gauge stranded copper wire which is a considerable improvement in conductivity than to what BMW is using in the wire harness. 14 gauge stranded copper would be great also. I would not go any smaller than 14 gauge. This piece of 12 gauge was cut and pulled from an old extension cord lying around the house.</p>

<p><img src="/images-e46/lead_attached_400x300.jpg" alt="rear light assembly" /></p>

<p>Now we are ready to install the light assembly unit back into the vehicle. Make sure all of the bulbs are inserted back into the assembly and take it back to the trunk of the vehicle.</p>

<p>Below is the unit sitting in the trunk and connected to the wire-harness. You&rsquo;ll have to excuse the visible junk in the trunk—my son is not very particular about his car trunk. As you can see, I have clipped the brown ground lead from the vehicle&rsquo;s wire harness and connected my green ground wire to it using another blue crimping connector from the connector set above. The crimp tooling and connectors are great to work with; Simple to use, effective, and quick!</p>

<p><img src="/images-e46/connection_complete_400x300.jpg" alt="rear light assembly" /></p>

<p>Next we snapped the light assembly back into position within the trunk and checked out the lights. Hooray! Everything is now working perfectly. Lights are as bright and snappy as the day the vehicle was purchased. The light warning is no longer appearing at the dash board. My son can now drive his car again! He&rsquo;s a happy camper and we are not out the $ hundreds it would have probably cost us to deal with the BMW service center.</p>

<p>&hellip;As a precautionary measure I checked the left rear light assembly for the same problem. The materials and connectors are the same on the left side, but I did not see any sign of a problem on that side. For now, I decided to leave the left side alone. Perhaps we&rsquo;ll be dealing with the left side in the future. :)</p>

<p>A few other things we have done at home with this BMW 325i E46 since we purchased it as a used vehicle a few years back:</p>

<ol>
<li><p>Changed break shoes and brake wear sensors front and back—pretty easy task and saved us a bundle.</p></li>
<li><p>Performed regular oil and filter change.</p></li>
<li><p>Fixed a leaking O-ring on the top radiator hose.</p></li>
<li><p>Changed serpentine belt on front of the engine—that one was fun—NOT!</p></li>
<li><p>Front end alignment—yes we can do that also without the use of any expensive equipment!</p></li>
<li><p>Changed the rear drivers-side window drive motor.</p></li>
</ol>


<h3>Disclaimer:</h3>

<p>The information provided here is not a suggestion or endorsement that anyone should attempt to perform the activities shown or described. This information is provided as-is to show how I solved the problem described. Any repairs you make are done at your own risk. The author assumes no responsibility or liability for the actions of others or the results obtained or problems encountered, including loss of any kind, from use of the information on this site.</p>

<p>In other words; You better know what you are doing before trying your own repair work. If you are unsure as to what you are doing, then seek out a qualified mechanic to perform the work.</p>

<p><a href='#TOP'><img alt="back to top of page" style="border-width:0" src="images/nav-to-top_80x23.png" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2013/03/05/librecad-basement-remodel/">Librecad: Creating a detailed design drawing for a basement remodel job.</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-03-05T02:10:05-05:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:10 am</span></time>
        
           | <a href="/blog/2013/03/05/librecad-basement-remodel/#disqus_thread"
             data-disqus-identifier="http:/runlevel-6.github.io/blog/2013/03/05/librecad-basement-remodel/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am posting this information with hope that it might help others who are interested in improving their home and looking for a great way to document and move forward with a plan for home improvement. If you find this document useful, then please drop me an email to let me know. Please read the disclaimer at the bottom of this document. Update: Please note that <strong>LibreCAD was originally called QCAD</strong>.</p>

<p>Below is a basement home improvement design in LibreCAD</p>

<p><img src="/images-librecad/qcad_basement_plan_400x298.png" alt="qcad design graphic" /></p>

<h3>Forward</h3>

<p>We have been living in our home for several years now. Recently my wife and I have been talking about doing some improvements in the basement. We decided that finishing part of the basement would provide an increase in living space and also provide a great way to relax and spend time with our family and friends.</p>

<h3>Creating a Detailed Drawing</h3>

<p>By creating a detailed drawing we are able to discuss and consider more details and and to easily modify the plan while we make changes. The drawing is a very detailed model that allows you to visualize how the finished project will eventually look. It forces you to think about and deal with many of the details of the project before getting started with any materials. Once you create a scaled drawing can more easily plan for the obstacles and limitations that you have in the existing area. Things like floor drains, plumbing pipes, heating ducts, furnace, windows, hot water tank, electrical breaker box, and other details must be carefully worked into the plan.  A detailed drawing gives you confidence in what you are planning to do.</p>

<h3>Searching for a CAD software package:</h3>

<p>Some CAD software tools are very time consuming to learn. They can also be very expensive, running into the $thousands for a single user license. The first place I searched for a CAD package was in the package manager on my Ubuntu Linux system. I was looking for something that was easy to learn and provided enough power to get the job done. I found LibreCAD, an open source CAD package which is licensed under the GPL. What a gem this software package turned out to be. It is rock solid and provides all of the functionality I need to produce a quality scale drawing.</p>

<h3>Creating the design drawing:</h3>

<p>The first thing I did in LibreCAD was to set the default units of measurement and length for the drawing. I set units to inches and length to inches with a precision of 1/2”. You can work in just about any units and precision you&rsquo;d like of course. I then carefully documented where everything was in the basement. This involved measuring the foundation walls, identifying and drawing all of the ductwork, beams, support posts, plumbing fixtures, service interfaces for plumbing, water, and electrical fixtures. These items were grouped and placed in various layers of the drawing. I then added the improvements into the design, carefully working around everything that was already there. It took some time, but allowed me to think through many of the details that may have been missed without going through the drawing, or visual modeling, process.</p>

<h3>Screen shots of LibreCAD in action</h3>

<p>Below is LibreCAD up and running with the basement plan opened. You can see that I have created layers in the drawing which are identified in the rightmost pane. Each layer can be made visible or invisible in the drawing. Different line attributes can be assigned for each layer. Although the drawing looks complicated, it was actually quite easy to create after spending some time learning LibreCAD.</p>

<p><a href="images-librecad/qcad_basement_plan_1024x762.png" target="_blank"> <img src="/images-librecad/qcad_basement_plan_400x298.png" border="0" alt="librecad detailed diagram" /></a></p>

<p>LibreCAD does a great job at exporting graphics to postscript format. You can easily view the output file in Adobe acrobat or an open source document viewer. It supports output to standard paper sizes including very large paper formats used for plotters. Below is an example of the same drawing in print preview ready to be exported to post script or printed directly.</p>

<p><a href="images-librecad/qcad_basement_plan_print_preview_1024x762.png" target="_blank"> <img src="/images-librecad/qcad_basement_plan_print_preview_400x298.png" border="0" alt="librecad print diagram" /></a></p>

<h3>An example librecad design file</h3>

<p>If you would like an example copy of a LibreCAD .dxf basement plan, you can download it from my website here: <A HREF="/download/basement_plan.dxf">basement_plan.dxf</A></p>

<p>Once you spend some time with LibreCAD I think you will agree; This is a great tool to have for home improvement planning. It also works great for other 2D CAD applications, such as in designing mechanical parts for fabrication. I have also used it for design work on some woodworking projects.</p>

<p><a href='#TOP'><img alt="back to top of page" style="border-width:0" src="/images/nav-to-top_80x23.png" /></a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1><a href="mailto:zman5819@gmail.com?subject=Runlevel-6 visitor mail">Ken Zahorec</a></h1>
  <p>Digging into just about everything I can get my hands on along the path of life&#8211;and sharing some of my experiences.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/12/11/centos-virtualization-server/">CentOS 6/7 Virtualization Server: The industrial strength hypervisor with performance, security, and manageability.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/04/auto-repair-fixing-a-leaky-door-on-the-2007-saab-93/">Auto Repair: Fixing a leaky door on the 2007 Saab 93</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/30/basement-upgrade-creating-the-new-hangout/">Basement Upgrade: Creating the new hangout&#8230;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/21/electric-range-repair-can-i-do-it-myself/">Electric Range Repair: Can I do it myself?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/21/auto-headlight-repair-cleaning-cloudy-headlamp-lenses-to-look-like-new-again/">Auto Headlight Repair: Cleaning cloudy headlamp lenses to look like new again</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/05/linux-virtualization-some-links-and-topics-of-interest/">Linux Virtualization: Some links and topics of interest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/05/fedora-virtualization-server/">Fedora Virtualization Server: A cutting-edge approach to lab virtualization</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/runlevel-6">@runlevel-6</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'runlevel-6',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><center>
Copyright &copy; 2015 - Ken Zahorec - <span class="credit">Website powered by <a href="http://octopress.org">Octopress</a></span>
 - Works here are licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
<center />

</footer>
  $(function() {



<script>
var idcomments_acct = 'ed8f5e745ff0a05d3d6a5414ee9355f1';
var idcomments_post_id = 'http:/runlevel-6.github.io/posts/3/index.html';
var idcomments_post_url = 'http:/runlevel-6.github.io/posts/3/index.html';
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>



});






  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
